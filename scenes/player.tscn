[gd_scene load_steps=21 format=3 uid="uid://dpgvvdu16f4k4"]

[ext_resource type="Script" uid="uid://bgxn1p4stdpdx" path="res://scenes/player.gd" id="1_g2els"]
[ext_resource type="Texture2D" uid="uid://d1o8vhu5uhll2" path="res://sprites/contra-jump.png" id="3_dqkch"]
[ext_resource type="Texture2D" uid="uid://63mailhf5m4k" path="res://sprites/contra-idle.png" id="3_qlg0r"]
[ext_resource type="Texture2D" uid="uid://ce305hfi7ujp2" path="res://sprites/contra-run.png" id="4_qlg0r"]
[ext_resource type="Script" uid="uid://ux63oek03ptn" path="res://scenes/gun_location.gd" id="5_qlg0r"]
[ext_resource type="Texture2D" uid="uid://b0hawte47dtld" path="res://sprites/wall-grab.png" id="5_smehm"]
[ext_resource type="Script" uid="uid://dy6dr8y040wyu" path="res://scenes/player_sprite.gd" id="5_tuyoq"]
[ext_resource type="Script" uid="uid://cnxbw3tv2wyv4" path="res://state/character_state.gd" id="7_fjrip"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dqkch"]
size = Vector2(14, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_tuyoq"]
atlas = ExtResource("3_dqkch")
region = Rect2(0, 0, 28, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fjrip"]
atlas = ExtResource("3_dqkch")
region = Rect2(28, 0, 28, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_smehm"]
atlas = ExtResource("3_dqkch")
region = Rect2(56, 0, 28, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ur7pv"]
atlas = ExtResource("3_dqkch")
region = Rect2(84, 0, 28, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dqkch"]
atlas = ExtResource("4_qlg0r")
region = Rect2(0, 0, 36, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_qlg0r"]
atlas = ExtResource("4_qlg0r")
region = Rect2(36, 0, 36, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_y4r1p"]
atlas = ExtResource("4_qlg0r")
region = Rect2(72, 0, 36, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_d2wvv"]
atlas = ExtResource("4_qlg0r")
region = Rect2(108, 0, 36, 40)

[sub_resource type="SpriteFrames" id="SpriteFrames_f1ej7"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_qlg0r")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tuyoq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fjrip")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_smehm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ur7pv")
}],
"loop": true,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dqkch")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qlg0r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y4r1p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d2wvv")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_smehm")
}],
"loop": true,
"name": &"wallgrab",
"speed": 5.0
}]

[sub_resource type="SystemFont" id="SystemFont_dqkch"]
font_names = PackedStringArray("Exo 2")
subpixel_positioning = 0
multichannel_signed_distance_field = true

[sub_resource type="LabelSettings" id="LabelSettings_qlg0r"]
font = SubResource("SystemFont_dqkch")
font_size = 8

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_g2els")

[node name="PlayerHitBox" type="CollisionShape2D" parent="."]
position = Vector2(0, 0.5)
shape = SubResource("RectangleShape2D_dqkch")

[node name="PlayerSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -4)
sprite_frames = SubResource("SpriteFrames_f1ej7")
animation = &"wallgrab"
script = ExtResource("5_tuyoq")

[node name="GunLocation" type="Node2D" parent="PlayerSprite"]
position = Vector2(16, -6)
script = ExtResource("5_qlg0r")

[node name="NameLabel" type="Label" parent="."]
offset_left = -23.0
offset_top = -37.0
offset_right = 20.0
offset_bottom = -16.0
grow_horizontal = 2
label_settings = SubResource("LabelSettings_qlg0r")
horizontal_alignment = 1
vertical_alignment = 1

[node name="CharacterState" type="Node" parent="."]
script = ExtResource("7_fjrip")
metadata/_custom_type_script = "uid://cnxbw3tv2wyv4"

[connection signal="moved" from="CharacterState" to="." method="_on_character_state_moved"]
[connection signal="moved" from="CharacterState" to="PlayerSprite" method="_on_character_moved"]
[connection signal="moved" from="CharacterState" to="PlayerSprite/GunLocation" method="_on_character_state_moved"]
[connection signal="turned" from="CharacterState" to="PlayerSprite" method="_on_character_state_turned"]
